<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Bram Goh">
<meta name="dcterms.date" content="2023-02-03">

<title>../../Computational Cognition - Reproducing Hintzman’s MINERVA (Part 4)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Computational Cognition</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Reproducing Hintzman’s MINERVA (Part 4)</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">code</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Bram Goh </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 3, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="improving-on-the-abstraction-exercise-code-and-plotting-prototypes-and-echoes" class="level1">
<h1>Improving on the Abstraction exercise code and plotting prototypes and echoes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ ggplot2 3.3.6     ✔ purrr   0.3.4
✔ tibble  3.1.7     ✔ dplyr   1.0.9
✔ tidyr   1.2.0     ✔ stringr 1.4.0
✔ readr   2.1.2     ✔ forcats 0.5.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">30</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>num_feat <span class="ot">&lt;-</span> <span class="dv">13</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>num_name <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>num_trace <span class="ot">&lt;-</span> num_name <span class="sc">+</span> num_feat</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">50</span>), <span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">50</span>))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>empty_feat <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, num_feat)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>abstraction <span class="ot">&lt;-</span> <span class="cf">function</span>(num_a, num_b, num_c, num_distort) {</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating prototype</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>gen_proto <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>   proto <span class="ot">&lt;-</span> <span class="fu">sample</span>(values, num_trace, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>   <span class="fu">return</span>(proto)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>proto_a <span class="ot">&lt;-</span> <span class="fu">gen_proto</span>()</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>proto_b <span class="ot">&lt;-</span> <span class="fu">gen_proto</span>()</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>proto_c <span class="ot">&lt;-</span> <span class="fu">gen_proto</span>()</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating exemplars with distortions</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>gen_exemp <span class="ot">&lt;-</span> <span class="cf">function</span>(proto, num_exemp, num_distort) {</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  proto_copies <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(proto, num_exemp), <span class="at">nrow =</span> num_exemp, <span class="at">ncol =</span> num_trace, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  name_matrix_ones <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>, <span class="at">nrow =</span> num_exemp, <span class="at">ncol =</span> num_name)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  feat_matrix_distort <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">replicate</span>(<span class="at">n =</span> num_exemp, <span class="fu">sample</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, num_feat <span class="sc">-</span> num_distort), <span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>, num_distort)), num_feat)))</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  distort_filter <span class="ot">&lt;-</span> <span class="fu">cbind</span>(name_matrix_ones, feat_matrix_distort)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  exemp <span class="ot">&lt;-</span> proto_copies <span class="sc">*</span> distort_filter</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(exemp)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating traces and probes</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">gen_exemp</span>(proto_a, num_a, num_distort)</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>probe_a <span class="ot">&lt;-</span> <span class="fu">c</span>(a[<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span>num_name], empty_feat)</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">gen_exemp</span>(proto_b, num_b, num_distort)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>probe_b <span class="ot">&lt;-</span> <span class="fu">c</span>(b[<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span>num_name], empty_feat)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">gen_exemp</span>(proto_c, num_c, num_distort)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>probe_c <span class="ot">&lt;-</span> <span class="fu">c</span>(c[<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span>num_name], empty_feat)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>sm <span class="ot">&lt;-</span> <span class="fu">rbind</span>(a, b, c)</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Echo activation function</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>echo_activation <span class="ot">&lt;-</span> <span class="cf">function</span>(probe, sec_mem) {</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>  e_activs <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(sec_mem)){</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>          n_rel <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>          temp_sim <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>              <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_trace){</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>                   current <span class="ot">&lt;-</span> probe[j] <span class="sc">*</span> sec_mem[i, j]</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>                   temp_sim <span class="ot">&lt;-</span> current <span class="sc">+</span> temp_sim</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>                          <span class="cf">if</span>(probe[j] <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">&amp;</span> sec_mem[i, j] <span class="sc">!=</span> <span class="dv">0</span>) {</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>                                     n_rel <span class="ot">&lt;-</span> n_rel <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>trace_sim <span class="ot">&lt;-</span> temp_sim<span class="sc">/</span>n_rel</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>trace_act <span class="ot">&lt;-</span> trace_sim<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>e_activs <span class="ot">&lt;-</span> <span class="fu">c</span>(e_activs, trace_act)</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(e_activs)</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>activs_a <span class="ot">&lt;-</span> <span class="fu">echo_activation</span>(probe_a, sm)</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>activs_b <span class="ot">&lt;-</span> <span class="fu">echo_activation</span>(probe_b, sm)</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>activs_c <span class="ot">&lt;-</span> <span class="fu">echo_activation</span>(probe_c, sm)</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Echo content function</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>echo_content <span class="ot">&lt;-</span> <span class="cf">function</span>(acts, sec_mem) {</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>  e_cont <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_trace){</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>    temp_cont <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(sec_mem)){</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>      current <span class="ot">&lt;-</span> acts[i] <span class="sc">*</span> sec_mem[i, j]</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>      temp_cont <span class="ot">&lt;-</span> current <span class="sc">+</span> temp_cont</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>    e_cont <span class="ot">&lt;-</span> <span class="fu">c</span>(e_cont, temp_cont)</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(e_cont)</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating echo intensity and probe-echo correlations</span></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>echo_a <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">echo_content</span>(activs_a, sm), <span class="dv">3</span>)</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>cor_a <span class="ot">&lt;-</span> <span class="fu">cor</span>(proto_a, echo_a)</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>int_a <span class="ot">&lt;-</span> <span class="fu">sum</span>(activs_a)</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>echo_b <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">echo_content</span>(activs_b, sm), <span class="dv">3</span>)</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>cor_b <span class="ot">&lt;-</span> <span class="fu">cor</span>(proto_b, echo_b)</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>int_b <span class="ot">&lt;-</span> <span class="fu">sum</span>(activs_b)</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>echo_c <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">echo_content</span>(activs_c, sm), <span class="dv">3</span>)</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>cor_c <span class="ot">&lt;-</span> <span class="fu">cor</span>(proto_c, echo_c)</span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>int_c <span class="ot">&lt;-</span> <span class="fu">sum</span>(activs_c)</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>output_mat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(proto_a, echo_a, proto_b, echo_b, proto_c, echo_c)</span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(output_mat)</span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I changed the output to a matrix with the probes and echoes for the 3 categories. However, why do the echoes have values greater than 1 and less than -1? That’s not what Hintzman got.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">replicate</span>(<span class="dv">20</span>, <span class="fu">abstraction</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, , 1

          [,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]  [,9]  [,10]
proto_a -1.000  1.000  1.000  1.000 -1.000  1.000 -1.000 -1.000 1.000 -1.000
echo_a  -3.048  2.952  2.952  3.048 -3.048  3.048 -3.048 -2.952 2.952 -3.048
proto_b  1.000  1.000  1.000 -1.000  1.000 -1.000  1.000 -1.000 1.000  1.000
echo_b   6.600  6.552  6.552 -6.600  6.600 -6.600  5.448 -6.552 5.400  5.448
proto_c -1.000 -1.000 -1.000  1.000 -1.000  1.000  1.000  1.000 1.000  1.000
echo_c  -9.384 -9.384 -9.384  9.384 -9.384  9.384  8.616  9.384 8.616  8.616
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17] [,18] [,19]  [,20]
proto_a -1.000 -1.000  1.000  1.000 -1.000 -1.000  1.000   1.0 1.000 -1.000
echo_a  -1.016  1.032  1.032  2.968  1.048 -3.000  1.016  -1.0 0.984 -0.984
proto_b -1.000 -1.000 -1.000  1.000 -1.000  1.000 -1.000  -1.0 1.000 -1.000
echo_b   2.328 -4.072 -4.328  3.784 -5.816 -0.296 -1.816   0.2 1.544 -1.800
proto_c -1.000  1.000  1.000 -1.000 -1.000  1.000 -1.000  -1.0 1.000 -1.000
echo_c  -5.128  1.256  5.256  2.744 -2.616  5.000 -2.872  -3.0 6.872 -2.872
         [,21]  [,22]  [,23]
proto_a  1.000  1.000  1.000
echo_a   1.000  3.032  3.032
proto_b -1.000 -1.000 -1.000
echo_b   0.312 -4.216 -4.344
proto_c -1.000  1.000  1.000
echo_c  -5.000  3.256  5.256

, , 2

         [,1]  [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]  [,9]  [,10]
proto_a 1.000 1.000  1.000 -1.000 -1.000 -1.000  1.000 -1.000 1.000 -1.000
echo_a  3.072 3.072  2.928 -2.928 -3.072 -3.072  2.928 -2.928 3.072 -3.072
proto_b 1.000 1.000 -1.000  1.000 -1.000  1.000  1.000  1.000 1.000  1.000
echo_b  6.576 6.576 -6.576  6.576 -6.576  5.424  5.424  6.576 6.576  5.424
proto_c 1.000 1.000 -1.000  1.000 -1.000 -1.000 -1.000  1.000 1.000 -1.000
echo_c  9.408 9.408 -9.360  9.360 -9.408 -8.640 -8.592  9.360 9.408 -8.640
         [,11] [,12]  [,13]  [,14]  [,15] [,16]  [,17]  [,18]  [,19]  [,20]
proto_a -1.000 -1.00 -1.000  1.000  1.000 -1.00  1.000  1.000 -1.000 -1.000
echo_a  -1.008 -0.96 -2.960  2.976  0.992 -0.96  0.944 -0.944 -1.024 -2.960
proto_b  1.000  1.00  1.000  1.000  1.000 -1.00  1.000 -1.000 -1.000 -1.000
echo_b   3.936  2.32  2.320 -0.192  3.936  2.32  3.552 -1.552 -0.192  0.320
proto_c  1.000  1.00  1.000 -1.000 -1.000  1.00 -1.000  1.000  1.000  1.000
echo_c  -0.752  5.12  5.104 -2.976 -0.736  5.12 -6.736  6.864 -3.008  4.976
         [,21]  [,22]  [,23]
proto_a -1.000  1.000  1.000
echo_a  -0.960  0.976 -0.976
proto_b -1.000  1.000 -1.000
echo_b  -3.680  5.808 -3.808
proto_c  1.000 -1.000  1.000
echo_c   4.736 -2.608  2.736

, , 3

           [,1]    [,2]    [,3]   [,4]   [,5]    [,6]    [,7]   [,8]    [,9]
proto_a  -1.000  -1.000  -1.000 -1.000  1.000  -1.000  -1.000  1.000  -1.000
echo_a   -7.608  -7.608  -7.608  1.608  7.608  -7.608  -7.608  7.608  -7.608
proto_b   1.000   1.000  -1.000  1.000  1.000  -1.000   1.000  1.000   1.000
echo_b    5.928   5.928  -6.072  6.072  6.072  -6.072   5.928  6.072   5.928
proto_c  -1.000  -1.000  -1.000  1.000  1.000  -1.000  -1.000  1.000  -1.000
echo_c  -10.488 -10.488 -10.584  7.512 10.584 -10.584 -10.488 10.584 -10.488
         [,10]  [,11]  [,12]  [,13]  [,14] [,15]  [,16]  [,17]  [,18]  [,19]
proto_a  1.000 -1.000 -1.000 -1.000 -1.000 1.000  1.000  1.000  1.000 -1.000
echo_a   7.608 -4.584  2.536  0.536  0.488 4.584  1.464  1.560  3.512  0.536
proto_b  1.000  1.000 -1.000 -1.000 -1.000 1.000 -1.000 -1.000 -1.000  1.000
echo_b   6.072  3.944 -3.976 -1.976 -2.008 6.056 -0.024 -1.960 -1.992  0.024
proto_c  1.000 -1.000  1.000  1.000 -1.000 1.000 -1.000  1.000  1.000  1.000
echo_c  10.584 -7.480  3.480  2.472 -0.504 7.560 -1.464  4.472  2.520  2.488
         [,20] [,21]  [,22]  [,23]
proto_a  1.000 -1.00 -1.000 -1.000
echo_a   3.512 -0.44  1.560 -2.536
proto_b  1.000  1.00  1.000  1.000
echo_b   2.008  2.04  2.040  1.976
proto_c -1.000  1.00  1.000 -1.000
echo_c   2.552  3.48  4.504 -3.496

, , 4

          [,1]   [,2]   [,3]   [,4]  [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a  1.000 -1.000  1.000  1.000 1.000 -1.000 -1.000  1.000 -1.000 -1.000
echo_a   3.624 -3.624  3.624  3.624 2.376 -2.376 -3.624  2.472 -3.528 -3.528
proto_b -1.000  1.000 -1.000 -1.000 1.000 -1.000  1.000 -1.000 -1.000 -1.000
echo_b  -6.600  6.600 -6.600 -6.600 6.552 -6.552  6.600 -5.448 -5.400 -5.400
proto_c -1.000  1.000 -1.000 -1.000 1.000 -1.000  1.000  1.000  1.000  1.000
echo_c  -9.576  9.576 -9.576 -9.576 9.192 -9.192  9.576  8.424  8.808  8.808
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a -1.000  1.000  1.000  1.000 -1.000 -1.000  1.000 -1.000  1.000 -1.000
echo_a  -2.584  1.320 -1.464  3.192 -2.808 -3.336  3.208 -3.336 -2.952 -2.456
proto_b  1.000 -1.000  1.000  1.000  1.000  1.000 -1.000  1.000  1.000  1.000
echo_b   3.576 -0.328  2.456 -0.216 -0.168  2.344 -2.216  2.344  1.960  3.448
proto_c -1.000  1.000  1.000 -1.000 -1.000  1.000 -1.000  1.000 -1.000 -1.000
echo_c  -6.552 -5.064  7.192 -3.192 -2.808  5.320 -3.320  5.320 -0.680 -8.552
         [,21] [,22]  [,23]
proto_a  1.000 1.000 -1.000
echo_a  -1.112 0.392  2.952
proto_b  1.000 1.000 -1.000
echo_b   6.072 4.568 -1.960
proto_c -1.000 1.000 -1.000
echo_c   1.448 9.192  0.680

, , 5

         [,1]   [,2]   [,3]   [,4]   [,5]   [,6]  [,7]   [,8]   [,9]  [,10]
proto_a 1.000  1.000  1.000 -1.000 -1.000 -1.000 1.000 -1.000 -1.000 -1.000
echo_a  3.000  3.000  3.000 -3.000 -3.000 -3.000 3.000 -3.000 -3.000 -3.000
proto_b 1.000  1.000  1.000  1.000  1.000 -1.000 1.000  1.000  1.000  1.000
echo_b  6.072  5.928  5.928  5.928  5.928 -6.072 6.072  6.072  6.072  6.072
proto_c 1.000 -1.000 -1.000 -1.000 -1.000 -1.000 1.000  1.000  1.000  1.000
echo_c  9.048 -8.952 -8.952 -8.952 -8.952 -9.048 9.048  9.048  9.048  9.048
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17] [,18]  [,19]  [,20]
proto_a -1.000  1.000 -1.000 -1.000  1.000  1.000 -1.000  1.00 -1.000  1.000
echo_a  -3.000 -1.000  1.000 -1.000 -1.000 -1.000 -1.000  3.00 -3.000  3.000
proto_b  1.000 -1.000  1.000  1.000  1.000 -1.000 -1.000  1.00  1.000 -1.000
echo_b   1.992 -3.992  3.960  6.024  0.024  0.056 -1.960 -0.04  4.024 -4.024
proto_c  1.000  1.000 -1.000  1.000  1.000  1.000  1.000 -1.00  1.000 -1.000
echo_c  -0.984  0.968 -4.968  3.048  3.000  7.000  4.984 -5.00  3.032 -3.032
         [,21] [,22]  [,23]
proto_a -1.000 -1.00  1.000
echo_a  -1.000 -1.00  3.000
proto_b  1.000  1.00 -1.000
echo_b   4.056  0.04 -0.008
proto_c  1.000  1.00  1.000
echo_c   7.032  5.00 -1.000

, , 6

          [,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9] [,10]
proto_a -1.000 -1.000 -1.000 -1.000  1.000 -1.000 -1.000  1.000 -1.000 1.000
echo_a  -2.928 -2.928 -3.072 -3.072  3.072 -2.928 -3.072  2.928 -3.072 3.072
proto_b -1.000  1.000 -1.000  1.000 -1.000 -1.000 -1.000 -1.000  1.000 1.000
echo_b  -6.000  6.000 -6.000  6.000 -6.000 -6.000 -6.000 -6.000  6.000 6.000
proto_c  1.000  1.000 -1.000 -1.000  1.000  1.000 -1.000 -1.000 -1.000 1.000
echo_c   8.976  8.976 -9.024 -9.024  9.024  8.976 -9.024 -8.976 -9.024 9.024
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a -1.000  1.000 -1.000 -1.000 -1.000  1.000  1.000  1.000  1.000 -1.000
echo_a   0.992 -1.024 -2.992 -1.024 -2.992  0.992  0.960  2.976 -0.944 -0.928
proto_b  1.000 -1.000  1.000  1.000  1.000  1.000 -1.000  1.000  1.000 -1.000
echo_b   0.000 -6.000  4.000  0.000  4.000  4.000 -2.000  4.000  4.000  2.000
proto_c -1.000 -1.000  1.000 -1.000 -1.000  1.000 -1.000 -1.000  1.000  1.000
echo_c  -0.992 -3.008  0.976 -3.008  0.976 -0.992 -4.992 -2.976  6.992  8.992
         [,21]  [,22]  [,23]
proto_a -1.000 -1.000  1.000
echo_a  -2.928 -0.960  1.008
proto_b -1.000 -1.000 -1.000
echo_b  -2.000  2.000 -4.000
proto_c  1.000  1.000  1.000
echo_c   8.976  4.992  1.008

, , 7

          [,1]  [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a  1.000 1.000  1.000 -1.000  1.000 -1.000  1.000 -1.000  1.000  1.000
echo_a   2.688 3.456  3.312 -3.456  3.312 -3.456  2.688 -3.312  2.688  3.312
proto_b -1.000 1.000  1.000 -1.000  1.000 -1.000 -1.000 -1.000 -1.000  1.000
echo_b  -6.384 5.616  6.768 -5.616  6.768 -5.616 -6.384 -6.768 -6.384  6.768
proto_c  1.000 1.000 -1.000 -1.000 -1.000 -1.000  1.000  1.000  1.000 -1.000
echo_c   9.408 8.640 -9.360 -8.640 -9.360 -8.640  9.408  9.360  9.408 -9.360
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18] [,19]  [,20]
proto_a -1.000  1.000  1.000 -1.000  1.000 -1.000 -1.000  1.000 1.000  1.000
echo_a  -2.592  1.088 -1.040 -0.672 -0.864 -1.280 -2.736  3.040 1.168 -1.264
proto_b  1.000  1.000  1.000  1.000  1.000 -1.000  1.000 -1.000 1.000 -1.000
echo_b   5.616  2.384  0.256  3.360  1.872 -3.872  3.744 -0.128 1.744 -4.000
proto_c  1.000 -1.000 -1.000  1.000 -1.000 -1.000  1.000  1.000 1.000 -1.000
echo_c   2.592 -5.120 -5.008  8.736  0.864 -2.752  0.720  5.024 4.880 -0.752
         [,21]  [,22]  [,23]
proto_a  1.000 -1.000 -1.000
echo_a   2.784 -0.992 -1.152
proto_b -1.000  1.000  1.000
echo_b  -4.128 -0.128 -1.872
proto_c  1.000  1.000 -1.000
echo_c   5.280  0.992 -2.880

, , 8

          [,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a -1.000  1.000  1.000  1.000  1.000 -1.000 -1.000 -1.000 -1.000 -1.000
echo_a  -3.120  3.120  3.120  3.120  2.880 -3.024 -3.024 -2.880 -2.976 -2.976
proto_b -1.000  1.000  1.000  1.000 -1.000  1.000  1.000  1.000 -1.000 -1.000
echo_b  -6.096  6.096  6.096  6.096 -6.048  5.904  5.904  6.048 -5.952 -5.952
proto_c  1.000 -1.000 -1.000 -1.000  1.000  1.000  1.000 -1.000 -1.000 -1.000
echo_c   9.072 -9.072 -9.072 -9.072  9.024  8.976  8.976 -9.024 -8.928 -8.928
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a -1.000 -1.000 -1.000  1.000 -1.000 -1.000 -1.000 -1.000 -1.000  1.000
echo_a   1.056 -3.008  3.056  3.008 -2.992 -0.976 -0.992 -0.944 -0.960 -1.040
proto_b  1.000  1.000  1.000  1.000  1.000 -1.000  1.000  1.000  1.000  1.000
echo_b   4.032  1.952  2.064  2.016  1.968 -1.968  3.968  4.016  2.016 -0.048
proto_c -1.000  1.000 -1.000 -1.000  1.000 -1.000  1.000 -1.000 -1.000  1.000
echo_c  -3.040  3.008 -5.040  0.960  1.008 -4.976  2.976 -3.024 -3.008  5.008
         [,21]  [,22]  [,23]
proto_a -1.000  1.000  1.000
echo_a  -2.960  2.928  1.056
proto_b  1.000 -1.000  1.000
echo_b   2.000 -0.048  4.032
proto_c -1.000  1.000 -1.000
echo_c  -2.992  8.976 -3.040

, , 9

          [,1]   [,2]   [,3]   [,4]  [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a  1.000  1.000  1.000 -1.000 1.000  1.000  1.000 -1.000 -1.000  1.000
echo_a   3.120  3.120  2.976 -3.120 2.880  3.024  3.024 -2.880 -3.120  2.976
proto_b -1.000 -1.000 -1.000  1.000 1.000  1.000  1.000 -1.000  1.000 -1.000
echo_b  -6.096 -6.096 -5.952  6.096 6.048  5.904  5.904 -6.048  6.096 -5.952
proto_c -1.000 -1.000  1.000  1.000 1.000 -1.000 -1.000 -1.000  1.000  1.000
echo_c  -9.072 -9.072  8.928  9.072 9.024 -8.976 -8.976 -9.024  9.072  8.928
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19] [,20]
proto_a  1.000  1.000 -1.000 -1.000  1.000  1.000  1.000  1.000  1.000 1.000
echo_a   0.992  2.976 -0.944 -0.896  1.024 -0.992  2.976  2.992  3.008 0.992
proto_b  1.000 -1.000  1.000 -1.000 -1.000  1.000  1.000 -1.000  1.000 1.000
echo_b   3.968 -1.984 -0.048 -6.048 -2.016  1.984  5.952 -3.984 -0.032 0.000
proto_c  1.000  1.000 -1.000 -1.000 -1.000 -1.000 -1.000  1.000 -1.000 1.000
echo_c  -2.976  4.960 -6.992 -7.040 -1.024 -2.976 -2.976  4.944 -1.024 0.992
         [,21]  [,22]  [,23]
proto_a  1.000  1.000 -1.000
echo_a   1.040 -3.056 -1.056
proto_b -1.000  1.000  1.000
echo_b   1.936  2.064  4.032
proto_c -1.000  1.000  1.000
echo_c  -6.992  5.040  3.040

, , 10

          [,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9] [,10]
proto_a -1.000 -1.000  1.000 -1.000  1.000 -1.000 -1.000  1.000  1.000 1.000
echo_a  -2.928 -2.928  3.072 -3.072  3.072 -3.072 -3.072  3.072  2.928 2.928
proto_b  1.000  1.000 -1.000 -1.000  1.000 -1.000 -1.000 -1.000 -1.000 1.000
echo_b   6.576  6.576 -5.424 -6.576  6.576 -6.576 -6.576 -5.424 -6.576 5.424
proto_c -1.000 -1.000 -1.000  1.000 -1.000  1.000  1.000 -1.000  1.000 1.000
echo_c  -9.360 -9.360 -8.640  9.408 -9.408  9.408  9.408 -8.640  9.360 8.592
         [,11]  [,12] [,13]  [,14]  [,15]  [,16]  [,17]  [,18] [,19]  [,20]
proto_a -1.000 -1.000 -1.00  1.000 -1.000  1.000  1.000  1.000 1.000 -1.000
echo_a  -2.992 -1.024 -2.96 -2.944 -0.944  1.008  0.976  1.040 2.944 -0.960
proto_b  1.000  1.000  1.00  1.000  1.000 -1.000 -1.000  1.000 1.000 -1.000
echo_b   6.064  1.808  6.32  0.448  4.448 -1.936 -2.192  2.320 3.552  4.320
proto_c -1.000  1.000 -1.00 -1.000 -1.000  1.000  1.000 -1.000 1.000 -1.000
echo_c  -1.360  2.880 -5.36 -6.976 -7.248 -0.880  3.120 -5.136 6.720 -5.248
         [,21]  [,22]  [,23]
proto_a  1.000 -1.000 -1.000
echo_a  -1.024 -1.008 -2.992
proto_b -1.000  1.000 -1.000
echo_b  -2.192  3.936  0.064
proto_c  1.000 -1.000 -1.000
echo_c   3.136  0.752 -0.976

, , 11

          [,1]   [,2]   [,3]  [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a -1.000  1.000  1.000 1.000  1.000 -1.000 -1.000  1.000 -1.000 -1.000
echo_a  -2.424  3.576  3.576 3.576  3.576 -3.576 -3.576  2.424 -3.576 -2.424
proto_b  1.000 -1.000 -1.000 1.000 -1.000 -1.000 -1.000  1.000  1.000 -1.000
echo_b   5.928 -6.072 -6.072 5.928 -6.072 -5.928 -5.928  6.072  6.072 -6.072
proto_c  1.000  1.000  1.000 1.000  1.000 -1.000 -1.000 -1.000 -1.000  1.000
echo_c   8.760  9.240  9.240 9.144  9.240 -9.144 -9.144 -8.856 -9.240  8.856
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18] [,19]  [,20]
proto_a -1.000  1.000  1.000 -1.000 -1.000 -1.000  1.000 -1.000  1.00  1.000
echo_a  -3.064  2.808  0.552 -0.936 -2.936 -2.808  0.808  0.808  1.32  1.448
proto_b  1.000 -1.000  1.000  1.000  1.000 -1.000 -1.000  1.000 -1.00  1.000
echo_b  -1.992 -3.976  6.056  3.992  1.992 -6.024 -1.976  2.024 -2.04 -0.056
proto_c -1.000 -1.000 -1.000 -1.000 -1.000  1.000 -1.000 -1.000  1.00  1.000
echo_c  -1.176 -2.776 -6.984  0.904  0.792  2.856 -2.920 -2.952  5.08  7.064
         [,21]  [,22] [,23]
proto_a -1.000 -1.000 1.000
echo_a   0.808  1.576 1.192
proto_b  1.000 -1.000 1.000
echo_b   2.024 -0.072 1.976
proto_c -1.000  1.000 1.000
echo_c  -2.952  9.064 3.048

, , 12

          [,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a -1.000 -1.000  1.000 -1.000 -1.000  1.000 -1.000  1.000 -1.000 -1.000
echo_a  -3.048 -2.952  3.048 -3.048 -2.952  3.048 -3.048  2.952 -3.048 -2.952
proto_b -1.000  1.000  1.000 -1.000  1.000  1.000 -1.000 -1.000 -1.000  1.000
echo_b  -6.024  5.976  6.024 -6.024  5.976  6.024 -6.024 -5.976 -6.024  5.976
proto_c  1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000  1.000
echo_c   9.000 -9.000 -9.000 -9.000 -9.000 -9.000 -9.000 -9.000 -9.000  9.000
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a  1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000
echo_a   2.968 -1.032 -1.016 -0.984 -1.048 -2.968 -3.000  3.000  1.016 -3.000
proto_b -1.000 -1.000 -1.000  1.000 -1.000  1.000  1.000 -1.000  1.000 -1.000
echo_b  -3.976 -4.008 -2.008  1.992 -6.008  3.976 -0.024  0.024  2.008 -0.024
proto_c  1.000  1.000 -1.000 -1.000  1.000  1.000 -1.000 -1.000 -1.000 -1.000
echo_c  -1.000  3.000 -1.000 -3.000  7.000  1.000 -3.000 -3.000 -1.000 -5.000
         [,21]  [,22]  [,23]
proto_a -1.000  1.000 -1.000
echo_a  -1.032  0.968 -1.016
proto_b -1.000 -1.000  1.000
echo_b  -4.008 -3.992 -2.008
proto_c -1.000  1.000 -1.000
echo_c  -7.000  7.000 -5.000

, , 13

          [,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a  1.000  1.000  1.000  1.000  1.000  1.000 -1.000 -1.000 -1.000 -1.000
echo_a   3.384  3.384  3.384  3.384  2.616  2.616 -3.384 -2.616 -3.384 -3.384
proto_b -1.000 -1.000 -1.000 -1.000  1.000  1.000  1.000 -1.000  1.000  1.000
echo_b  -6.120 -6.120 -6.264 -6.264  5.880  5.880  6.264 -5.736  6.264  6.120
proto_c -1.000 -1.000  1.000  1.000 -1.000 -1.000 -1.000 -1.000 -1.000  1.000
echo_c  -8.952 -8.952  9.048  9.048 -9.048 -9.048 -9.048 -8.952 -9.048  8.952
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a -1.000  1.000  1.000 -1.000 -1.000  1.000 -1.000 -1.000  1.000 -1.000
echo_a  -3.256 -1.128 -1.256 -3.000 -3.256  3.384 -0.872 -1.128  1.128 -1.128
proto_b  1.000  1.000  1.000 -1.000  1.000 -1.000  1.000  1.000 -1.000  1.000
echo_b   4.152  2.056  4.024  0.216  4.168 -6.232 -1.928  2.056 -2.024  2.024
proto_c  1.000 -1.000  1.000 -1.000  1.000  1.000  1.000 -1.000 -1.000  1.000
echo_c   4.968  0.984  4.968 -3.000  2.968  5.048 -0.984  0.984 -4.984  4.984
         [,21]  [,22]  [,23]
proto_a -1.000  1.000 -1.000
echo_a  -0.744  1.000  0.872
proto_b -1.000  1.000  1.000
echo_b  -3.976 -0.104  1.992
proto_c  1.000  1.000 -1.000
echo_c   5.032  5.000 -7.016

, , 14

          [,1]   [,2]   [,3]    [,4]   [,5]    [,6]    [,7]  [,8]   [,9]
proto_a  1.000 -1.000 -1.000  -1.000  1.000  -1.000  -1.000 1.000  1.000
echo_a   1.056 -4.944 -4.944  -4.944  1.056  -4.944  -4.944 4.944  4.944
proto_b  1.000 -1.000 -1.000   1.000  1.000   1.000   1.000 1.000 -1.000
echo_b   6.576 -5.424 -5.424   6.576  6.576   6.576   6.576 5.424 -6.576
proto_c -1.000 -1.000 -1.000  -1.000 -1.000  -1.000  -1.000 1.000  1.000
echo_c  -8.736 -9.264 -9.264 -10.032 -8.736 -10.032 -10.032 9.264 10.032
          [,10]  [,11] [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18] [,19]
proto_a  -1.000  1.000 1.000  1.000 -1.000 -1.000  1.000 -1.000 -1.000 -1.00
echo_a   -4.944  1.216 0.080  1.488 -0.784 -0.352  1.216  0.512  0.080 -1.92
proto_b   1.000 -1.000 1.000 -1.000  1.000 -1.000  1.000 -1.000  1.000 -1.00
echo_b    6.576 -4.064 3.680  0.448  3.936 -6.192  1.936 -4.448  1.680 -2.32
proto_c  -1.000  1.000 1.000 -1.000  1.000 -1.000 -1.000  1.000  1.000  1.00
echo_c  -10.032  1.472 4.528 -6.352  0.528  3.168  1.088  7.040  4.656  4.48
         [,20]  [,21]  [,22]  [,23]
proto_a -1.000 -1.000  1.000  1.000
echo_a  -4.512 -3.216 -2.080 -2.080
proto_b  1.000 -1.000 -1.000  1.000
echo_b   0.448 -3.936  0.320 -1.680
proto_c -1.000 -1.000 -1.000 -1.000
echo_c  -7.648 -1.392 -5.216 -5.088

, , 15

          [,1]  [,2]   [,3]   [,4]  [,5]  [,6]   [,7]   [,8]   [,9]  [,10]
proto_a -1.000 1.000  1.000 -1.000 1.000 1.000  1.000  1.000 -1.000  1.000
echo_a  -3.024 3.120  2.976 -3.120 3.120 3.120  2.976  2.880 -2.880  3.024
proto_b  1.000 1.000  1.000 -1.000 1.000 1.000  1.000 -1.000  1.000 -1.000
echo_b   5.904 6.096  5.952 -6.096 6.096 6.096  5.952 -6.048  6.048 -5.904
proto_c -1.000 1.000 -1.000 -1.000 1.000 1.000 -1.000 -1.000  1.000  1.000
echo_c  -8.976 9.072 -8.928 -9.072 9.072 9.072 -8.928 -9.024  9.024  8.976
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a -1.000 -1.000 -1.000  1.000  1.000 -1.000 -1.000 -1.000 -1.000 -1.000
echo_a   0.944 -1.040 -0.992  1.008  3.008  0.912 -3.024  0.944 -2.992  1.072
proto_b -1.000 -1.000  1.000 -1.000  1.000 -1.000 -1.000 -1.000  1.000  1.000
echo_b  -2.032 -4.016  5.952  0.016  5.984 -4.048 -4.016 -4.016 -3.984  0.080
proto_c -1.000 -1.000 -1.000 -1.000 -1.000 -1.000  1.000 -1.000  1.000  1.000
echo_c  -5.008 -1.040 -4.960  1.008 -4.928 -7.024  0.944 -3.024  4.944  9.008
         [,21]  [,22]  [,23]
proto_a  1.000 -1.000  1.000
echo_a   3.024 -1.024  2.960
proto_b  1.000 -1.000 -1.000
echo_b   2.032 -2.016 -0.016
proto_c -1.000 -1.000 -1.000
echo_c   1.040 -1.024 -4.976

, , 16

          [,1]  [,2]   [,3]   [,4]   [,5]  [,6]   [,7]   [,8]   [,9]  [,10]
proto_a -1.000 1.000 -1.000 -1.000  1.000 1.000  1.000 -1.000  1.000 -1.000
echo_a  -2.952 3.048 -3.048 -3.048  2.952 3.048  3.048 -2.952  2.952 -3.048
proto_b  1.000 1.000 -1.000 -1.000 -1.000 1.000  1.000  1.000 -1.000 -1.000
echo_b   5.976 6.024 -6.024 -6.024 -5.976 6.024  6.024  5.976 -5.976 -6.024
proto_c  1.000 1.000 -1.000  1.000  1.000 1.000 -1.000  1.000  1.000  1.000
echo_c   9.000 9.000 -9.000  9.000  9.000 9.000 -9.000  9.000  9.000  9.000
        [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a 1.000 -1.000  1.000 -1.000  1.000 -1.000  1.000  1.000 -1.000  1.000
echo_a  3.000 -2.984 -0.984 -1.016 -0.968  1.000 -1.016  1.032 -3.000  0.968
proto_b 1.000  1.000  1.000 -1.000  1.000 -1.000 -1.000  1.000  1.000 -1.000
echo_b  0.024  1.976  1.992 -2.008  3.992  0.008 -2.008  4.008 -0.024 -3.992
proto_c 1.000 -1.000  1.000  1.000  1.000 -1.000  1.000 -1.000 -1.000  1.000
echo_c  3.000 -5.000  5.000  3.000  5.000 -3.000  3.000 -3.000 -1.000  3.000
        [,21]  [,22]  [,23]
proto_a 1.000  1.000  1.000
echo_a  3.032  2.968  0.984
proto_b 1.000 -1.000 -1.000
echo_b  4.024 -3.976 -1.992
proto_c 1.000 -1.000 -1.000
echo_c  1.000 -5.000 -5.000

, , 17

          [,1]  [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a  1.000 1.000  1.000  1.000  1.000  1.000 -1.000  1.000  1.000 -1.000
echo_a   3.048 2.952  2.952  2.952  3.048  3.048 -3.048  2.952  3.048 -3.048
proto_b -1.000 1.000  1.000  1.000 -1.000 -1.000  1.000  1.000 -1.000  1.000
echo_b  -6.600 5.400  6.552  6.552 -6.600 -6.600  6.600  6.552 -5.448  5.448
proto_c  1.000 1.000 -1.000 -1.000  1.000  1.000 -1.000 -1.000 -1.000  1.000
echo_c   9.384 8.616 -9.384 -9.384  9.384  9.384 -9.384 -9.384 -8.616  8.616
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16] [,17]  [,18]  [,19]  [,20]
proto_a -1.000 -1.000  1.000 -1.000  1.000 -1.000 1.000 -1.000 -1.000 -1.000
echo_a   0.968  1.000  1.032  0.968  0.968 -3.000 2.968 -0.984 -3.048 -1.000
proto_b -1.000  1.000 -1.000  1.000  1.000  1.000 1.000 -1.000  1.000  1.000
echo_b   3.800  0.568 -4.072  3.800  4.056  0.088 3.784 -2.440  5.576  0.072
proto_c  1.000 -1.000 -1.000 -1.000 -1.000 -1.000 1.000  1.000  1.000  1.000
echo_c   2.744 -9.000  1.256  2.744 -1.256 -1.000 2.744  7.128  6.616 -1.000
         [,21]  [,22]  [,23]
proto_a  1.000  1.000 -1.000
echo_a  -1.048  3.016 -3.016
proto_b  1.000 -1.000  1.000
echo_b   6.456 -1.704  2.472
proto_c -1.000 -1.000 -1.000
echo_c  -7.384 -4.872 -7.128

, , 18

          [,1]   [,2]   [,3]   [,4]   [,5]   [,6]  [,7]   [,8]   [,9]  [,10]
proto_a -1.000 -1.000 -1.000  1.000 -1.000  1.000 1.000  1.000 -1.000  1.000
echo_a  -2.616 -3.384 -3.384  3.384 -3.384  3.384 2.616  3.384 -3.384  2.616
proto_b -1.000  1.000  1.000 -1.000  1.000 -1.000 1.000 -1.000  1.000  1.000
echo_b  -5.880  6.264  6.120 -6.264  6.120 -6.120 5.880 -6.264  6.264  5.736
proto_c -1.000  1.000 -1.000 -1.000 -1.000  1.000 1.000 -1.000  1.000 -1.000
echo_c  -9.048  9.048 -8.952 -9.048 -8.952  8.952 9.048 -9.048  9.048 -8.952
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]  [,20]
proto_a -1.000 -1.000 -1.000  1.000 -1.000  1.000  1.000 -1.000  1.000 -1.000
echo_a  -2.872 -1.256  0.616 -0.872 -0.744  3.000  1.000 -1.384  1.128 -3.000
proto_b -1.000  1.000  1.000 -1.000 -1.000 -1.000  1.000  1.000  1.000 -1.000
echo_b  -1.864  4.072  5.976 -2.008 -3.928 -0.248 -0.008  6.088 -2.072  0.136
proto_c -1.000  1.000  1.000 -1.000  1.000 -1.000  1.000 -1.000 -1.000 -1.000
echo_c  -7.016  1.032  5.048 -9.016  0.968 -7.000  7.000  3.048 -1.016 -7.000
         [,21]  [,22]  [,23]
proto_a  1.000  1.000  1.000
echo_a   1.000 -1.128  3.384
proto_b -1.000  1.000 -1.000
echo_b  -0.072  2.072 -6.216
proto_c  1.000  1.000 -1.000
echo_c  -1.000  1.016 -3.048

, , 19

          [,1]  [,2]  [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]
proto_a -1.000 1.000 1.000 -1.000  1.000  1.000 -1.000 -1.000 -1.000  1.000
echo_a  -1.104 4.896 4.896 -4.896  4.992  4.992 -4.992 -4.896 -1.104  4.992
proto_b  1.000 1.000 1.000 -1.000 -1.000 -1.000  1.000 -1.000  1.000 -1.000
echo_b   6.096 6.048 6.048 -6.048 -5.952 -5.952  5.952 -6.048  6.096 -5.952
proto_c  1.000 1.000 1.000 -1.000  1.000  1.000 -1.000 -1.000  1.000  1.000
echo_c   8.400 9.696 9.696 -9.696  9.600  9.600 -9.600 -9.696  8.400  9.600
         [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17] [,18]  [,19]  [,20]
proto_a -1.000  1.000 -1.000  1.000  1.000 -1.000 -1.000 1.000  1.000  1.000
echo_a  -2.736  0.368 -1.632  1.664 -0.064 -1.664  1.904 4.928  2.800  0.336
proto_b -1.000 -1.000 -1.000 -1.000 -1.000  1.000  1.000 1.000 -1.000  1.000
echo_b  -5.968 -2.032 -2.016 -1.984 -2.048  1.984  1.936 2.048 -2.032  1.968
proto_c  1.000 -1.000 -1.000  1.000 -1.000 -1.000 -1.000 1.000 -1.000 -1.000
echo_c   0.304 -2.800 -3.232  3.200 -4.800 -3.200 -4.336 9.664 -0.368 -2.768
         [,21]  [,22] [,23]
proto_a  1.000  1.000 1.000
echo_a   0.352  0.368 1.616
proto_b -1.000 -1.000 1.000
echo_b  -0.032 -2.032 4.016
proto_c -1.000 -1.000 1.000
echo_c  -2.784 -2.800 3.248

, , 20

          [,1]    [,2]   [,3]    [,4]   [,5]   [,6]    [,7]    [,8]   [,9]
proto_a  1.000   1.000 -1.000   1.000  1.000 -1.000  -1.000  -1.000 -1.000
echo_a   3.024   3.120 -3.120   3.120  2.880 -3.120  -2.880  -2.880 -3.120
proto_b -1.000   1.000 -1.000   1.000 -1.000 -1.000   1.000   1.000 -1.000
echo_b  -4.032   7.968 -7.968   7.968 -7.920 -7.968   7.920   7.920 -7.968
proto_c -1.000  -1.000  1.000  -1.000  1.000  1.000  -1.000  -1.000  1.000
echo_c  -7.728 -10.320 10.320 -10.320 10.272 10.320 -10.272 -10.272 10.320
         [,10]  [,11]  [,12]  [,13]  [,14]  [,15]  [,16]  [,17]  [,18]  [,19]
proto_a -1.000 -1.000 -1.000  1.000 -1.000 -1.000 -1.000  1.000  1.000  1.000
echo_a  -2.976 -1.056 -0.944 -1.040 -1.024 -2.912  3.056  2.992  2.992  2.992
proto_b -1.000 -1.000  1.000  1.000 -1.000  1.000  1.000  1.000 -1.000 -1.000
echo_b  -4.080 -1.520  3.072 -2.656 -3.792  5.488  3.104 -3.328 -1.760 -4.896
proto_c -1.000  1.000 -1.000  1.000 -1.000 -1.000 -1.000 -1.000 -1.000 -1.000
echo_c  -7.680  7.008 -5.424  3.440 -0.128 -7.840 -5.456 -2.160 -0.592 -3.728
         [,20]  [,21]  [,22]  [,23]
proto_a -1.000  1.000 -1.000  1.000
echo_a  -2.992  3.008  0.912 -0.944
proto_b  1.000 -1.000 -1.000  1.000
echo_b   4.896 -1.328 -5.504  4.640
proto_c -1.000 -1.000  1.000 -1.000
echo_c   3.728 -2.592  7.856 -3.856</code></pre>
</div>
</div>
<p>Using the replicate function allows me to simulate multiple participants easily.</p>
<p>Next, I need to plot the prototypes against the echoes in a “histogram”. After several failed attempts at doing so with ggplot, I finally came to the conclusion that I had to use the basic R plotting package. An example of the code is below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>graph_in <span class="ot">&lt;-</span> <span class="fu">abstraction</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="dv">4</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>par <span class="ot">=</span> (<span class="at">mfrow =</span> <span class="fu">c</span> (<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(graph_in[<span class="dv">5</span>, ], <span class="at">main =</span> <span class="st">"proto_a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(graph_in[<span class="dv">6</span>, ], <span class="at">main =</span> <span class="st">"echo_a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The code works, though it seems to indicate that the name features are a little different in the echo than in the probe. That might make sense, since the probe would not be highly similar to traces from a different category, which could affect the “purity” of the echo.</p>
<p>I haven’t figured out a way to write a function to easily churn out the 6 graphs. Functions only return 1 output, and I’m not sure the basic plotting package in R allows for saving a graph containing multiple layers as a variable.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>